#[macro_use]
extern crate helix_runtime;

ruby! {
    class TextTransform {
        def widen(text: String) -> String {
            text.chars().map(|char| {
                match char {
                    ' ' => '\u{3000}', '!' => 'ï¼', '"' => 'ï¼‚', '#' => 'ï¼ƒ', '$' => 'ï¼„', '%' => 'ï¼…', '&' => 'ï¼†', '\'' => 'ï¼‡',
                    '(' => 'ï¼ˆ', ')' => 'ï¼‰', '*' => 'ï¼Š', '+' => 'ï¼‹', ',' => 'ï¼Œ', '-' => 'ï¼', '.' => 'ï¼Ž', '/' => 'ï¼',
                    '0' => 'ï¼', '1' => 'ï¼‘', '2' => 'ï¼’', '3' => 'ï¼“', '4' => 'ï¼”', '5' => 'ï¼•', '6' => 'ï¼–', '7' => 'ï¼—',
                    '8' => 'ï¼˜', '9' => 'ï¼™', ':' => 'ï¼š', ';' => 'ï¼›', '<' => 'ï¼œ', '=' => 'ï¼', '>' => 'ï¼ž', '?' => 'ï¼Ÿ',
                    '@' => 'ï¼ ', 'A' => 'ï¼¡', 'B' => 'ï¼¢', 'C' => 'ï¼£', 'D' => 'ï¼¤', 'E' => 'ï¼¥', 'F' => 'ï¼¦', 'G' => 'ï¼§',
                    'H' => 'ï¼¨', 'I' => 'ï¼©', 'J' => 'ï¼ª', 'K' => 'ï¼«', 'L' => 'ï¼¬', 'M' => 'ï¼­', 'N' => 'ï¼®', 'O' => 'ï¼¯',
                    'P' => 'ï¼°', 'Q' => 'ï¼±', 'R' => 'ï¼²', 'S' => 'ï¼³', 'T' => 'ï¼´', 'U' => 'ï¼µ', 'V' => 'ï¼¶', 'W' => 'ï¼·',
                    'X' => 'ï¼¸', 'Y' => 'ï¼¹', 'Z' => 'ï¼º', '[' => 'ï¼»', '\\' => 'ï¼¼', ']' => 'ï¼½', '^' => 'ï¼¾', '_' => 'ï¼¿',
                    '`' => 'ï½€', 'a' => 'ï½', 'b' => 'ï½‚', 'c' => 'ï½ƒ', 'd' => 'ï½„', 'e' => 'ï½…', 'f' => 'ï½†', 'g' => 'ï½‡',
                    'h' => 'ï½ˆ', 'i' => 'ï½‰', 'j' => 'ï½Š', 'k' => 'ï½‹', 'l' => 'ï½Œ', 'm' => 'ï½', 'n' => 'ï½Ž', 'o' => 'ï½',
                    'p' => 'ï½', 'q' => 'ï½‘', 'r' => 'ï½’', 's' => 'ï½“', 't' => 'ï½”', 'u' => 'ï½•', 'v' => 'ï½–', 'w' => 'ï½—',
                    'x' => 'ï½˜', 'y' => 'ï½™', 'z' => 'ï½š', '{' => 'ï½›', '|' => 'ï½œ', '}' => 'ï½', '~' => 'ï½ž', _ => char,
                }
            }).collect()
        }

        def narrowen(text: String) -> String {
            text.chars().map(|char| {
                match char {
                    '\u{3000}' => ' ', 'ï¼' => '!', 'ï¼‚' => '"', 'ï¼ƒ' => '#', 'ï¼„' => '$', 'ï¼…' => '%', 'ï¼†' => '&', 'ï¼‡' => '\'',
                    'ï¼ˆ' => '(', 'ï¼‰' => ')', 'ï¼Š' => '*', 'ï¼‹' => '+', 'ï¼Œ' => ',', 'ï¼' => '-', 'ï¼Ž' => '.', 'ï¼' => '/',
                    'ï¼' => '0', 'ï¼‘' => '1', 'ï¼’' => '2', 'ï¼“' => '3', 'ï¼”' => '4', 'ï¼•' => '5', 'ï¼–' => '6', 'ï¼—' => '7',
                    'ï¼˜' => '8', 'ï¼™' => '9', 'ï¼š' => ':', 'ï¼›' => ';', 'ï¼œ' => '<', 'ï¼' => '=', 'ï¼ž' => '>', 'ï¼Ÿ' => '?',
                    'ï¼ ' => '@', 'ï¼¡' => 'A', 'ï¼¢' => 'B', 'ï¼£' => 'C', 'ï¼¤' => 'D', 'ï¼¥' => 'E', 'ï¼¦' => 'F', 'ï¼§' => 'G',
                    'ï¼¨' => 'H', 'ï¼©' => 'I', 'ï¼ª' => 'J', 'ï¼«' => 'K', 'ï¼¬' => 'L', 'ï¼­' => 'M', 'ï¼®' => 'N', 'ï¼¯' => 'O',
                    'ï¼°' => 'P', 'ï¼±' => 'Q', 'ï¼²' => 'R', 'ï¼³' => 'S', 'ï¼´' => 'T', 'ï¼µ' => 'U', 'ï¼¶' => 'V', 'ï¼·' => 'W',
                    'ï¼¸' => 'X', 'ï¼¹' => 'Y', 'ï¼º' => 'Z', 'ï¼»' => '[', 'ï¼¼' => '\\', 'ï¼½' => ']', 'ï¼¾' => '^', 'ï¼¿' => '_',
                    'ï½€' => '`', 'ï½' => 'a', 'ï½‚' => 'b', 'ï½ƒ' => 'c', 'ï½„' => 'd', 'ï½…' => 'e', 'ï½†' => 'f', 'ï½‡' => 'g',
                    'ï½ˆ' => 'h', 'ï½‰' => 'i', 'ï½Š' => 'j', 'ï½‹' => 'k', 'ï½Œ' => 'l', 'ï½' => 'm', 'ï½Ž' => 'n', 'ï½' => 'o',
                    'ï½' => 'p', 'ï½‘' => 'q', 'ï½’' => 'r', 'ï½“' => 's', 'ï½”' => 't', 'ï½•' => 'u', 'ï½–' => 'v', 'ï½—' => 'w',
                    'ï½˜' => 'x', 'ï½™' => 'y', 'ï½š' => 'z', 'ï½›' => '{', 'ï½œ' => '|', 'ï½' => '}', 'ï½ž' => '~', _ => char,
                }
            }).collect()
        }

        def flip(text: String) -> String {
            text.chars().rev().map(|char| {
                match char {
                    '!' => 'Â¡', '"' => 'â€ž', '&' => 'â…‹', '\'' => 'â€š', '(' => ')', ')' => '(', ',' => 'â€˜', '.' => 'Ë™',
                    '1' => 'Æ–', '2' => 'á„…', '3' => 'Æ', '4' => 'ã„£', '5' => 'Ï›', '6' => '9', '7' => 'ã„¥',
                    '8' => '8', '9' => '6', ';' => 'Ø›', '<' => '>', '>' => '<', '?' => 'Â¿',
                    'A' => 'âˆ€', 'B' => 'ð’', 'C' => 'â†ƒ', 'D' => 'â—–', 'E' => 'ÆŽ', 'F' => 'â„²', 'G' => 'â…',
                    'J' => 'Å¿', 'K' => 'Êž', 'L' => 'â…‚', 'M' => 'W',
                    'P' => 'Ô€', 'Q' => 'ÎŒ', 'R' => 'á´š', 'T' => 'âŠ¥', 'U' => 'âˆ©', 'V' => 'á´§', 'W' => 'M',
                    'Y' => 'â…„', '[' => ']', ']' => '[', '^' => 'v', '_' => 'â€¾',
                    '`' => ',', 'a' => 'É', 'b' => 'q', 'c' => 'É”', 'd' => 'p', 'e' => 'Ç', 'f' => 'ÉŸ', 'g' => 'Æƒ',
                    'h' => 'É¥', 'i' => 'á´‰', 'j' => 'É¾', 'k' => 'Êž', 'm' => 'É¯', 'n' => 'u',
                    'p' => 'd', 'q' => 'b', 'r' => 'É¹', 't' => 'Ê‡', 'u' => 'n', 'v' => 'ÊŒ', 'w' => 'Ê',
                    'y' => 'ÊŽ', '{' => '}', '}' => '{', _ => char,
                }
            }).collect()
        }
    }
}
